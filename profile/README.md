
## <img width="30" height="30" alt="image" src="https://github.com/user-attachments/assets/d8e6396f-614e-4263-b6df-909140e18e2d" /> 운다방 

### 프로젝트 소개
- 근처에 거주하는 운동메이트 찾기 서비스 입니다.
- 회원은 운다방 지도를 통해 근처에 거주하는 다른 회원의 프로필을 조회 후 채팅을 통해 매칭할 수 있습니다.
- 개발 기간 : 2025.04.15 ~ 개발중
- URL : https://www.undabang.store/
<br>

### 구성원
<table>
  <tbody>
    <tr width='100%'>
      <th align="center" width='14%'>김승규</th>
      <th align="center" width='14%'>신동원</th>
      <th align="center" width='14%'>이동권</th>
      <th align="center" width='14%'>이주현</th>
    </tr>
    <tr>
      <td align="center"><img width="100" alt="image" src="<!--이 부분에 개인 사진을 추가해 주세요-->"></td>
      <td align="center"><img width="100" alt="image" src="<!--이 부분에 개인 사진을 추가해 주세요-->"></td>
      <td align="center"><img width="100" alt="image" src="<!--이 부분에 개인 사진을 추가해 주세요-->"></td>
      <td align="center"><img width="100" alt="image" src="https://github.com/user-attachments/assets/741d8ebe-ac0b-4039-a9e1-b16754b726c8"></td>
    </tr>
    <tr>
      <td align="center" width="150"><a href="<!--개인 github 주소를 넣어주세요-->"><!--@표시될 이름으로 적어주세요--></a></td>
      <td align="center" width="150"><a href="<!--개인 github 주소를 넣어주세요-->"><!--@표시될 이름으로 적어주세요--></a></td>
      <td align="center" width="150"><a href="<!--개인 github 주소를 넣어주세요-->"><!--@표시될 이름으로 적어주세요--></a></td>
      <td align="center" width="150"><a href="https://github.com/joohyun1996">@JooH</a></td>
    </tr>  
  </tbody>
</table>
<br>

### 프로젝트 아키텍쳐

<!--프로젝트 아키텍처 사진 추가 예정-->

- WEB :

- ANDROID

- API - GATEWAY : 
- EUREKA : 유레카 서버는 Spring Cloud Netflix Eureka를 통해 서비스들의 인스턴스 정보를 등록하고 관리합니다. 이를 통해 서비스 디스커버리 및 로드 밸런싱이 가능하며, gateway는 유레카 서버를 통해 서비스의 위치를 동적으로 찾을 수 있습니다.

- AUTH API :

- BACKEND API : 

### CI/CD

### 개발환경 (전부 수정)
 - 개발도구: Intellij IDEA - Ultimate
 - 언어: Java 11 LTS Temurin
 - 빌드도구: Maven
 - 개발
    - Spring Framework: 5.3
    - Spring Boot: 2.7.18
    - Spring Cloud
      - Spring Cloud Gateway
      - Spring Cloud Netflex(Eureka)
      - Spring Cloud OpenFeign
    - Spring Data
      - Spring Data JPA
      - Spring Data Elasticsearch
      - Spring Data Redis
    - Spring Security
    - JPA
      - QueryDSL
 - 테스트
    - Junit5
    - AssertJ
    - Mockito
    - SonarQube
 - 데이터베이스
    - MySQL: 8.0.25
    - Redis
 - 검색엔진
    - Elastic Search: 7.11.1
    - Kibana: 7.11.1
    - Logstash: 7.11.1
 - ERD
    - ERDCloud
 - 프론트 개발 환경 및 언어
    - 언어:
      - HTML
      - CSS
      - JavaScript
    - 라이브러리 및 프레임워크:
      - Bootstrap 5
      - Thymeleaf
      - TOAST UI
 - NHN Cloud
    - Instance
    - Secure Key Manager
    - Object Storage
 - 형상관리 및 이슈관리
    - GitHub
 - 기타
    - Dooray Hook Sender
  
### 개발언어

<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> <img src="https://img.shields.io/badge/Maven-C71A36?style=for-the-badge&logo=ApacheMaven&logoColor=white"/>

### 사용도구

<img src="https://img.shields.io/badge/spring boot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> <img src="https://img.shields.io/badge/spring security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white"> <img src="https://img.shields.io/badge/spring cloud-6DB33F?style=for-the-badge&logo=spring&logoColor=white"> <img src="https://img.shields.io/badge/spring 
gateway-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
<img src="https://img.shields.io/badge/spring eureka-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
<img src="https://img.shields.io/badge/spring Data JPA-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
<img src="https://img.shields.io/badge/spring Data Redis-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"/>
<img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=white"/> 
<img src="https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=Jenkins&logoColor=white"/>
<img src="https://img.shields.io/badge/Github Actions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white"/>
<img src="https://img.shields.io/badge/nginx-%23009639.svg?style=for-the-badge&logo=nginx&logoColor=white"/>
<img src="https://img.shields.io/badge/elasticsearch-005571?style=for-the-badge&logo=elasticsearch&logoColor=white"/>
<img src="https://img.shields.io/badge/Logstash-005571?style=for-the-badge&logo=Logstash&logoColor=white"/>
<img src="https://img.shields.io/badge/kibana-005571?style=for-the-badge&logo=kibana&logoColor=white"/><br>
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=jsonwebtokens&logoColor=white"/>
<img src="https://img.shields.io/badge/sonarqube-4E9BCD?style=for-the-badge&logo=SonarQube&logoColor=white"/>

### etc
  <img src="https://img.shields.io/badge/thymeleaf-005F0F?style=for-the-badge&logo=thymeleaf&logoColor=white"/> <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"/>
  <img src="https://img.shields.io/badge/css3-1572B6?style=for-the-badge&logo=css3&logoColor=white"/>
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=white"/>
  <img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white"/>
  <img src="https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white"/>
  <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white"/>
  <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white"/>
  <img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=github&logoColor=white"/>
  <img src="https://img.shields.io/badge/JUnit5-25A162?style=for-the-badge&logo=junit5&logoColor=white"/>
<br>

### ERD
![image](https://github.com/nhnacademy-be5-T3Team/.github/assets/19462768/0f96422b-cfa0-4343-9451-09e47a4a08b1)
<br>

### [프로젝트 관리, WBS](https://github.com/orgs/nhnacademy-be5-T3Team/projects/2)
Github Roadmap
- Github에서 제공하는 Project를 활용해 프로젝트의 작업 현황과 진행도를 체계적으로 관리했습니다.
- 이를 통해 작업 항목들을 시각적으로 구성하고, 각 항목과 관련된 PR, 이슈 등을 연결하여 프로젝트의 전반적인 진행 상황을 투명하게 공유할 수 있었습니다.

<img width="1679" alt="KakaoTalk_Photo_2024-05-10-13-41-16" src="https://github.com/nhnacademy-be5-T3Team/.github/assets/67141385/e77ab0f0-df81-4459-871f-72f14de660d7">
<br>

### [Kanban Board](https://github.com/orgs/nhnacademy-be5-T3Team/projects/2/views/9)
Github Kanban
- Github의 Project 기능 중 Kanban 보드를 활용하여 프로젝트를 관리했습니다.
- Todo, InProgress, Done 의 열로 작업을 구분해 현재 작업 상황을 실시간으로 확인할 수 있도록 했습니다. 또한, Delay 탭을 별도로 만들어 프로젝트 내에서 지연되는 부분을 확인해 적절한 조치를 취할 수 있도록 했습니다.

<img width="1713" alt="image" src="https://github.com/nhnacademy-be5-T3Team/.github/assets/84436996/5270bbf9-fcee-4538-b202-ab7fd4f13d34">
<br>

### 스크럼
일주일 간격으로 스크럼 마스터를 선정해 매일 아침 10:00에 스크럼을 진행했습니다. 개발 기간 동안 총 40번이 넘는 스크럼이 진행되었고, 스크럼에서는 팀원들이 각자의 진행 상황을 공유하고 발생한 이슈들을 함께 논의하여 프로젝트를 원활하게 진행할 수 있었습니다.

<img width="492" alt="스크린샷 2024-05-10 오후 1 47 41" src="https://github.com/nhnacademy-be5-T3Team/.github/assets/67141385/87571534-7bae-4a70-ac6f-39faa1c44640">
<br>

### 테스트 커버리지


### 구성원 별 담당 내용

## :bust_in_silhouette: 이주현

> ## 인증/인가
  - Spring Security 사용 (Front, Auth)
  - 로그인
    - Client가 입력한 ID, PW가 DB에 저장되어 있는 암호화된 정보와 일치하는지 확인
    - 로그인 실패시 로그인 페이지로 Redirect
  - 로그아웃
    - 로그아웃시 사용된 Access Token을 Redis에 BlackList Token으로 저장하여 해당 토큰은 재사용 불가능하게 처리
  - JWT 토큰 발급
    - JWT 토큰은 Access, Refresh 2개의 토큰을 사용, 각 토큰은 1대1 맵핑이 되도록 동일한 임의의 UUID값을 지님
    - 토큰은 UserId, UserRole, UUID를 payload로 가짐
  - JWT 토큰 재발급
    - Refresh 토큰이 살아있는 경우
      - Access Token이 만료 5분 전이거나, 만료된 경우 Refresh 토큰을 통한 재발급
    - Refresh 토큰이 만료된 경우
      - Access Token이 살아있는 경우는 요청 진행, 만료된 경우는 로그인 페이지로 Redirect
  - 인가
    - Gateway에서 인가처리를 진행하여 권한이 없는 사용자는 메인페이지로 Redirect
        
> ## 공통화 처리 
  - Front Server에서 요청이 수행될 때, Cookie가 존재하면 Header에 추가
  - Feign Client로 요청 전송시 Header값 자동으로 추가
  - BookServer에서 Authorization Header Decode Filter 구현

- 시퀀스 다이어그램
  - 로그인 시퀀스
    ![image](https://github.com/nhnacademy-be5-T3Team/.github/assets/19462768/a58041e1-f0f6-4a1a-baf3-f8cadfe00dcd)
  - 재발급 시퀀스
    ![image](https://github.com/nhnacademy-be5-T3Team/.github/assets/19462768/727bb0da-c8d5-4f88-bc67-81682224b3c2)
  - 로그아웃 시퀀스
    ![image](https://github.com/nhnacademy-be5-T3Team/.github/assets/19462768/0553e418-e485-4eb5-a741-2b24a4814299)
  
> ## 쿠폰
  - 쿠폰 발급 CRUD 개발 및 뷰 구현

---
<br/>
